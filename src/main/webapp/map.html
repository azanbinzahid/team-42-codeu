<!DOCTYPE html>
<html>
<head>
    <title>Opportunity Map</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDPtFpGDAcqHrGU3W_vkIesB0K1AHWg8ck"></script>
   <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script> 
    
    <script>  
        function createOpportunityMap(){
            //test data, in actuall it needs to be fetched from back-end servlet
            var opportunityLocations = [
                {lat: 40.730610, lng:  -73.935242, id: 1}, //NYC
                {lat: 31.582045, lng:  74.329376, id:2}, //Lahore
                {lat: 1.290270, lng: 103.851959, id: 2} //Singapur
            ]

            const map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 0, lng: 0},
            zoom:3
            });

            opportunityLocations.forEach((data) => {            
                const marker =  new google.maps.Marker({
                    position: {lat: data.lat, lng: data.lng},
                    map: map,
                    title: data.id.toString()
                });  
                const infoWindow = new google.maps.InfoWindow({
                    content: data.id.toString()
                });
                marker.addListener('click', function() {
                    infoWindow.open(map, marker);
                });
            });
        };
     </script>

    <style>
        #map{
        height: 100%;
        }
        html, body{
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>

</head>

<body onload="createOpportunityMap();">
 <h1>Opportunities Map</h1>
 <div id="map" ></div>
</body>

</html>